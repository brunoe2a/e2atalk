import{T as $,p as C,O as A,c as E,w as n,o as m,a as s,b as l,g as f,t as i,u as o,y,e as p,h as v,F as g}from"./app-DdRYZDN8.js";import{_ as q}from"./ApplicationLayout-Bua6u8eF.js";import{_ as w,a as B}from"./ItemBreadcrumb-DE2PZMzz.js";import{_ as h}from"./InputLabel-Br0VqTqz.js";import{_}from"./InputSoftUi-BSsDv90E.js";import{_ as k}from"./InputError-CfKJduYL.js";import{_ as D}from"./ButtonSave-DfZN9vgD.js";import{_ as x}from"./Checkbox-DHxeCPzW.js";import{_ as F}from"./ButtonLink-CGAn_1Eh.js";import"./ApplicationLogo-FW9nuDc0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"flex flex-wrap pt-1 mr-12 bg-transparent rounded-lg sm:mr-16"},z={class:"mb-0 font-bold capitalize"},M={class:"w-full px-6 py-6 mx-auto"},S={class:"flex flex-wrap -mx-3"},T={class:"flex gap-4 w-full max-w-full px-3"},L={class:"w-1/3 p-5 mb-6 break-words bg-white border-0 border-transparent border-solid shadow-soft-xl rounded-2xl bg-clip-border"},O={class:"mb-4"},P={class:"mb-4"},j={class:"mb-4"},G={class:"mb-4"},H={class:"pb-5"},I={class:"font-extrabold text-sm"},J={class:"italic text-xs"},K={class:"pt-1"},Q={class:"flex items-center"},R={class:"ms-2 text-sm text-gray-600"},W={class:"flex gap-4"},X={class:"grow p-5 mb-6 break-words bg-white border-0 border-transparent border-solid shadow-soft-xl rounded-2xl bg-clip-border"},Y={class:"pb-5"},Z={class:"font-extrabold"},ee={class:"italic"},se={class:"flex gap-4 pt-1"},te={class:"flex items-center"},ae={class:"flex items-center"},le={class:"flex items-center"},oe={class:"flex items-center"},he={__name:"Edit",props:{user:{},canal:{},funcao:{},canais:{},modulos:{},permissao:{}},setup(u){const d=u,t=$({name:d.user.name,email:d.user.email,telefone:d.user.telefone,cpf:d.user.cpf,canal:d.canal,funcao:d.funcao,permissao:d.permissao});C(()=>t.funcao,c=>{d.canais.forEach(e=>{const b=e.funcoes.some(r=>c[r.id]),a=e.funcoes.every(r=>!c[r.id]);b?t.canal[e.id]=!0:a&&(t.canal[e.id]=!1)})},{deep:!0});const U=()=>{t.put(route("usuario.update",d.user.id))};return(c,e)=>{const b=A("mask");return m(),E(q,{title:"Alterar: "+u.user.name},{breadcrumb:n(()=>[s("ol",N,[l(w,{href:c.route("dashboard")},{default:n(()=>[f(i(c.__("sidebar.link.dashboard")),1)]),_:1},8,["href"]),l(w,{href:c.route("usuario.index")},{default:n(()=>e[4]||(e[4]=[f("Usuários")])),_:1},8,["href"]),l(w,{href:"",active:!0},{default:n(()=>[f("Alterar: "+i(u.user.name),1)]),_:1})]),s("h6",z,"Alterar: "+i(u.user.name),1)]),footer:n(()=>[l(B)]),default:n(()=>[s("div",M,[s("div",S,[s("div",T,[s("div",L,[s("div",O,[l(h,{for:"name",class:"text-xs",value:"Nome:"}),l(_,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(t).name,"onUpdate:modelValue":e[0]||(e[0]=a=>o(t).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(k,{class:"mt-2",message:o(t).errors.name},null,8,["message"])]),s("div",P,[l(h,{for:"email",class:"text-xs",value:"E-mail:"}),l(_,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(t).email,"onUpdate:modelValue":e[1]||(e[1]=a=>o(t).email=a),required:"",autocomplete:"email"},null,8,["modelValue"]),l(k,{class:"mt-2",message:o(t).errors.email},null,8,["message"])]),s("div",j,[l(h,{for:"cpf",class:"text-xs",value:"CPF:"}),y(l(_,{id:"cpf",type:"text",class:"mt-1 block w-full",modelValue:o(t).cpf,"onUpdate:modelValue":e[2]||(e[2]=a=>o(t).cpf=a),required:"",autocomplete:"cpf"},null,8,["modelValue"]),[[b,"###.###.###-##"]]),l(k,{class:"mt-2",message:o(t).errors.cpf},null,8,["message"])]),s("div",G,[s("div",null,[l(h,{for:"telefone",class:"text-xs",value:"Celular:"}),y(l(_,{id:"telefone",type:"text",class:"mt-1 block w-full",modelValue:o(t).telefone,"onUpdate:modelValue":e[3]||(e[3]=a=>o(t).telefone=a),required:"",autocomplete:"telefone"},null,8,["modelValue"]),[[b,"(##) #####-####"]]),l(k,{class:"mt-2",message:o(t).errors.telefone},null,8,["message"])])]),s("div",null,[e[7]||(e[7]=s("h6",{class:"font-bold bg-gray-100 text-gray-600 rounded mb-3 px-2 py-1"},"Canais de Atendimento:",-1)),(m(!0),p(g,null,v(u.canais,a=>(m(),p("div",H,[l(x,{class:"hidden",checked:o(t).canal[a.id],"onUpdate:checked":r=>o(t).canal[a.id]=r},null,8,["checked","onUpdate:checked"]),s("span",I,i(a.nome)+": ",1),e[5]||(e[5]=f()),e[6]||(e[6]=s("br",null,null,-1)),s("span",J,i(a.descricao),1),s("div",K,[(m(!0),p(g,null,v(a.funcoes,r=>(m(),p("label",Q,[l(x,{checked:o(t).funcao[r.id],"onUpdate:checked":V=>o(t).funcao[r.id]=V},null,8,["checked","onUpdate:checked"]),s("span",R,i(r.nome),1)]))),256))])]))),256))]),e[10]||(e[10]=s("div",{class:"my-4 border-t"},null,-1)),s("div",W,[l(D,{onClick:U},{default:n(()=>e[8]||(e[8]=[f("Salvar")])),_:1}),l(F,{href:c.route("usuario.index"),cor:"gray"},{default:n(()=>e[9]||(e[9]=[f(" Cancelar ")])),_:1},8,["href"])])]),s("div",X,[e[15]||(e[15]=s("h6",{class:"font-bold"},"Acesso aos Módulos:",-1)),e[16]||(e[16]=s("div",{class:"my-3 border-t"},null,-1)),(m(!0),p(g,null,v(u.modulos,a=>(m(),p("div",Y,[s("span",Z,i(a.section)+": ",1),s("span",ee,i(a.name),1),s("div",se,[s("label",te,[l(x,{checked:o(t).permissao[a.chave].index,"onUpdate:checked":r=>o(t).permissao[a.chave].index=r},null,8,["checked","onUpdate:checked"]),e[11]||(e[11]=s("span",{class:"ms-2 text-sm text-gray-600"},"Visualizar",-1))]),s("label",ae,[l(x,{checked:o(t).permissao[a.chave].create,"onUpdate:checked":r=>o(t).permissao[a.chave].create=r},null,8,["checked","onUpdate:checked"]),e[12]||(e[12]=s("span",{class:"ms-2 text-sm text-gray-600"},"Cadastrar",-1))]),s("label",le,[l(x,{checked:o(t).permissao[a.chave].edit,"onUpdate:checked":r=>o(t).permissao[a.chave].edit=r},null,8,["checked","onUpdate:checked"]),e[13]||(e[13]=s("span",{class:"ms-2 text-sm text-gray-600"},"Alterar",-1))]),s("label",oe,[l(x,{checked:o(t).permissao[a.chave].delete,"onUpdate:checked":r=>o(t).permissao[a.chave].delete=r},null,8,["checked","onUpdate:checked"]),e[14]||(e[14]=s("span",{class:"ms-2 text-sm text-gray-600"},"Excluir",-1))])])]))),256))])])])])]),_:1},8,["title"])}}};export{he as default};
