import{T as $,p as C,O as N,c as q,w as d,o as n,a as s,b as l,g as m,t as c,u as o,y,e as u,h as v,F as k}from"./app-DdRYZDN8.js";import{_ as B}from"./ApplicationLayout-Bua6u8eF.js";import{_ as g,a as D}from"./ItemBreadcrumb-DE2PZMzz.js";import{_ as f}from"./InputLabel-Br0VqTqz.js";import{_ as x}from"./InputSoftUi-BSsDv90E.js";import{_ as b}from"./InputError-CfKJduYL.js";import{_ as E}from"./ButtonSave-DfZN9vgD.js";import{_ as p}from"./Checkbox-DHxeCPzW.js";import{_ as F}from"./ButtonLink-CGAn_1Eh.js";import"./ApplicationLogo-FW9nuDc0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"flex flex-wrap pt-1 mr-12 bg-transparent rounded-lg sm:mr-16"},S={class:"w-full px-6 py-6 mx-auto"},z={class:"flex flex-wrap -mx-3"},M={class:"flex gap-4 w-full max-w-full px-3"},T={class:"w-1/3 p-5 mb-6 break-words bg-white border-0 border-transparent border-solid shadow-soft-xl rounded-2xl bg-clip-border"},L={class:"mb-4"},O={class:"mb-4"},P={class:"mb-4"},j={class:"flex mb-4"},G={class:"pl-3"},H={class:"pb-5"},I={class:"font-extrabold text-sm"},J={class:"italic text-xs"},K={class:"pt-1"},Q={class:"flex items-center"},R={class:"ms-2 text-sm text-gray-600"},W={class:"flex gap-4"},X={class:"grow p-5 mb-6 break-words bg-white border-0 border-transparent border-solid shadow-soft-xl rounded-2xl bg-clip-border"},Y={class:"pb-5"},Z={class:"font-extrabold"},ee={class:"italic"},se={class:"flex gap-4 pt-1"},te={class:"flex items-center"},ae={class:"flex items-center"},le={class:"flex items-center"},oe={class:"flex items-center"},_e={__name:"Create",props:{canais:{},modulos:{},permissao:{}},setup(h){const w=h,t=$({name:"",email:"",telefone:"",cpf:"",password:"",canal:{},funcao:{},permissao:w.permissao});C(()=>t.funcao,i=>{w.canais.forEach(e=>{const _=e.funcoes.some(r=>i[r.id]),a=e.funcoes.every(r=>!i[r.id]);_?t.canal[e.id]=!0:a&&(t.canal[e.id]=!1)})},{deep:!0});const U=()=>{t.post(route("usuario.store"))};return(i,e)=>{const _=N("mask");return n(),q(B,{title:"Novo Usuário"},{breadcrumb:d(()=>[s("ol",A,[l(g,{href:i.route("dashboard")},{default:d(()=>[m(c(i.__("sidebar.link.dashboard")),1)]),_:1},8,["href"]),l(g,{href:i.route("usuario.index")},{default:d(()=>e[5]||(e[5]=[m("Usuários")])),_:1},8,["href"]),l(g,{href:"",active:!0},{default:d(()=>e[6]||(e[6]=[m("Novo Usuário")])),_:1})]),e[7]||(e[7]=s("h6",{class:"mb-0 font-bold capitalize"},"Novo Usuário",-1))]),footer:d(()=>[l(D)]),default:d(()=>[s("div",S,[s("div",z,[s("div",M,[s("div",T,[s("div",L,[l(f,{for:"name",class:"text-xs",value:"Nome:"}),l(x,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(t).name,"onUpdate:modelValue":e[0]||(e[0]=a=>o(t).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(b,{class:"mt-2",message:o(t).errors.name},null,8,["message"])]),s("div",O,[l(f,{for:"email",class:"text-xs",value:"E-mail:"}),l(x,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(t).email,"onUpdate:modelValue":e[1]||(e[1]=a=>o(t).email=a),required:"",autocomplete:"email"},null,8,["modelValue"]),l(b,{class:"mt-2",message:o(t).errors.email},null,8,["message"])]),s("div",P,[l(f,{for:"cpf",class:"text-xs",value:"CPF:"}),y(l(x,{id:"cpf",type:"text",class:"mt-1 block w-full",modelValue:o(t).cpf,"onUpdate:modelValue":e[2]||(e[2]=a=>o(t).cpf=a),required:"",autocomplete:"cpf"},null,8,["modelValue"]),[[_,"###.###.###-##"]]),l(b,{class:"mt-2",message:o(t).errors.cpf},null,8,["message"])]),s("div",j,[s("div",null,[l(f,{for:"telefone",class:"text-xs",value:"Celular:"}),y(l(x,{id:"telefone",type:"text",class:"mt-1 block w-full",modelValue:o(t).telefone,"onUpdate:modelValue":e[3]||(e[3]=a=>o(t).telefone=a),required:"",autocomplete:"telefone"},null,8,["modelValue"]),[[_,"(##) #####-####"]]),l(b,{class:"mt-2",message:o(t).errors.telefone},null,8,["message"])]),s("div",G,[l(f,{for:"password",class:"text-xs",value:"Senha:"}),l(x,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:o(t).password,"onUpdate:modelValue":e[4]||(e[4]=a=>o(t).password=a),required:"",autocomplete:"password"},null,8,["modelValue"]),l(b,{class:"mt-2",message:o(t).errors.password},null,8,["message"])])]),s("div",null,[e[10]||(e[10]=s("h6",{class:"font-bold bg-gray-100 text-gray-600 rounded mb-3 px-2 py-1"},"Canais de Atendimento:",-1)),(n(!0),u(k,null,v(h.canais,a=>(n(),u("div",H,[l(p,{class:"hidden",checked:o(t).canal[a.id],"onUpdate:checked":r=>o(t).canal[a.id]=r},null,8,["checked","onUpdate:checked"]),s("span",I,c(a.nome)+": ",1),e[8]||(e[8]=m()),e[9]||(e[9]=s("br",null,null,-1)),s("span",J,c(a.descricao),1),s("div",K,[(n(!0),u(k,null,v(a.funcoes,r=>(n(),u("label",Q,[l(p,{checked:o(t).funcao[r.id],"onUpdate:checked":V=>o(t).funcao[r.id]=V},null,8,["checked","onUpdate:checked"]),s("span",R,c(r.nome),1)]))),256))])]))),256))]),e[13]||(e[13]=s("div",{class:"my-4 border-t"},null,-1)),s("div",W,[l(E,{onClick:U},{default:d(()=>e[11]||(e[11]=[m("Salvar")])),_:1}),l(F,{href:i.route("usuario.index"),cor:"gray"},{default:d(()=>e[12]||(e[12]=[m(" Cancelar ")])),_:1},8,["href"])])]),s("div",X,[e[18]||(e[18]=s("h6",{class:"font-bold text-gray-600"},"Acesso aos Módulos:",-1)),e[19]||(e[19]=s("div",{class:"my-3 border-t"},null,-1)),(n(!0),u(k,null,v(h.modulos,a=>(n(),u("div",Y,[s("span",Z,c(a.section)+": ",1),s("span",ee,c(a.name),1),s("div",se,[s("label",te,[l(p,{checked:o(t).permissao[a.chave].index,"onUpdate:checked":r=>o(t).permissao[a.chave].index=r},null,8,["checked","onUpdate:checked"]),e[14]||(e[14]=s("span",{class:"ms-2 text-sm text-gray-600"},"Visualizar",-1))]),s("label",ae,[l(p,{checked:o(t).permissao[a.chave].create,"onUpdate:checked":r=>o(t).permissao[a.chave].create=r},null,8,["checked","onUpdate:checked"]),e[15]||(e[15]=s("span",{class:"ms-2 text-sm text-gray-600"},"Cadastrar",-1))]),s("label",le,[l(p,{checked:o(t).permissao[a.chave].edit,"onUpdate:checked":r=>o(t).permissao[a.chave].edit=r},null,8,["checked","onUpdate:checked"]),e[16]||(e[16]=s("span",{class:"ms-2 text-sm text-gray-600"},"Alterar",-1))]),s("label",oe,[l(p,{checked:o(t).permissao[a.chave].delete,"onUpdate:checked":r=>o(t).permissao[a.chave].delete=r},null,8,["checked","onUpdate:checked"]),e[17]||(e[17]=s("span",{class:"ms-2 text-sm text-gray-600"},"Excluir",-1))])])]))),256))])])])])]),_:1})}}};export{_e as default};
