import{_ as c}from"./ButtonPadrao-q1H6ExQ9.js";import{d,e as u,a as o,c as m,w as p,f as l,g as v,o as s}from"./app-DdRYZDN8.js";const _={class:"flex gap-4 mt-3"},b={key:2,class:"flex items-center"},k={key:0},x=["src"],B={__name:"AudioGravador",emits:["audioCaptured"],setup(y,{emit:f}){const i=d([]),t=d(null),n=d(null),a=d(!1),g=f,h=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia não é suportado neste navegador.");const r=await navigator.mediaDevices.getUserMedia({audio:!0});t.value=new MediaRecorder(r),t.value.ondataavailable=e=>{i.value.push(e.data)},t.value.onstop=()=>{const e=new Blob(i.value,{type:"audio/webm"});n.value=URL.createObjectURL(e),i.value=[],g("audioCaptured",e)},t.value.start(),a.value=!0}catch(r){console.error("Erro ao acessar o microfone:",r),alert(r.message)}},w=()=>{t.value&&(t.value.stop(),a.value=!1)};return(r,e)=>(s(),u("div",null,[e[4]||(e[4]=o("h1",null,"Gravador de Áudio:",-1)),o("div",_,[a.value?l("",!0):(s(),m(c,{key:0,onClick:h,cor:"green",disabled:a.value},{default:p(()=>e[0]||(e[0]=[v("Iniciar Gravação")])),_:1},8,["disabled"])),a.value?(s(),m(c,{key:1,onClick:w,cor:"red",disabled:!a.value},{default:p(()=>e[1]||(e[1]=[v("Parar Gravação")])),_:1},8,["disabled"])):l("",!0),a.value?(s(),u("div",b,e[2]||(e[2]=[o("svg",{class:"w-6 h-6 mr-2 text-red-700 animate-pulse","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{"fill-rule":"evenodd",d:"M5 8a1 1 0 0 1 1 1v3a4.006 4.006 0 0 0 4 4h4a4.006 4.006 0 0 0 4-4V9a1 1 0 1 1 2 0v3.001A6.006 6.006 0 0 1 14.001 18H13v2h2a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h2v-2H9.999A6.006 6.006 0 0 1 4 12.001V9a1 1 0 0 1 1-1Z","clip-rule":"evenodd"}),o("path",{d:"M7 6a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4h-2a4 4 0 0 1-4-4V6Z"})],-1),v(" Gravando ")]))):l("",!0)]),n.value?(s(),u("div",k,[e[3]||(e[3]=o("h3",{class:"my-4"},"Áudio Gravado:",-1)),o("audio",{src:n.value,controls:""},null,8,x)])):l("",!0)]))}};export{B as default};
