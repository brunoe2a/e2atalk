import{d as p,T as S,e as l,b as a,w as n,o as i,a as o,g as m,n as v,i as g,u as r,t as _,y as B,f as M,D as j}from"./app-DdRYZDN8.js";import{_ as w}from"./ButtonPadrao-q1H6ExQ9.js";import{_ as T}from"./Modal-CkEhWGh7.js";import{_ as V}from"./InputError-CfKJduYL.js";import{_ as $}from"./ButtonSave-DfZN9vgD.js";const q={class:"space-y-6"},F={class:"p-6"},A={class:"mb-5"},z={key:0,class:"text-gray-500"},E={key:1,class:"text-green-600"},L=["value"],O={class:"mt-6 flex justify-end"},Q={__name:"ImportContatoForm",props:{lista_id:Number},setup(h){const k=h,c=p(!1),t=p(!1),u=p(null),e=S({lista_contato_id:k.lista_id,file:null}),y=()=>{c.value=!0},x=d=>{t.value=!1,d.dataTransfer.files.length&&(e.file=d.dataTransfer.files[0])},b=()=>{t.value=!0},C=()=>{t.value=!1},D=()=>{u.value&&u.value.click()},I=()=>{e.post(route("contato.import"),{preserveScroll:!0,onSuccess:()=>f(),onFinish:()=>e.reset()})},f=()=>{c.value=!1,e.reset()};return(d,s)=>(i(),l("section",q,[a(w,{onClick:y,cor:"cyan"},{default:n(()=>s[1]||(s[1]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 mr-2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m0-3-3-3m0 0-3 3m3-3v11.25m6-2.25h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"})],-1),m(" Importar ")])),_:1}),a(T,{show:c.value,onClose:f},{default:n(()=>[o("div",F,[s[4]||(s[4]=o("h2",{class:"text-xl font-medium text-gray-900"}," Importar Contato ",-1)),s[5]||(s[5]=o("hr",{class:"my-4"},null,-1)),o("div",A,[o("div",{class:v(["w-full h-48 border-4 cursor-pointer border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",{"border-blue-500 bg-blue-50":t.value,"border-gray-300":!t.value}]),onDragover:g(b,["prevent"]),onDragleave:g(C,["prevent"]),onDrop:g(x,["prevent"]),onClick:D},[r(e).file?(i(),l("p",E,_(r(e).file.name),1)):(i(),l("p",z,"Arraste e solte um arquivo aqui ou clique para selecionar"))],34),B(o("input",{ref_key:"fileInput",ref:u,onInput:s[0]||(s[0]=N=>r(e).file=N.target.files[0]),id:"file_input",type:"file"},null,544),[[j,!1]]),r(e).progress?(i(),l("progress",{key:0,value:r(e).progress.percentage,class:"w-full bg-green-600 rounded-full h-2.5 my-3",max:"100"},_(r(e).progress.percentage)+"% ",9,L)):M("",!0),a(V,{class:"mt-2",message:r(e).errors.file},null,8,["message"])]),o("div",O,[a(w,{onClick:f,cor:"light"},{default:n(()=>s[2]||(s[2]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 mr-2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1),m(" Cancel ")])),_:1}),a($,{cor:"green",class:v(["ms-3",{"opacity-25":r(e).processing}]),disabled:r(e).processing,onClick:I},{default:n(()=>s[3]||(s[3]=[m("Salvar")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]))}};export{Q as default};
